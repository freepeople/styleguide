<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: scroll.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: scroll.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Highlight sidebar nav element on scroll
 * @constructor
 * @exports Scroll
 * @alias module:Scroll
 */
function Scroll() {
    // add global variable that references the class
    this.trackOffset = 'trackOffset';
    this.hovered = 'hovered';
    this.yOffsets = [];
    this.lastOffset = 0;
    this.currLoc = 0;
    this.direction = 'down';
}

/**
 * @public
 * @memberof module:Scroll#
 * @method getOffsets
 */
Scroll.prototype.getOffsets = function () {
    $('.' + trackOffset).each(function (index, obj) {
        var pageOffsets = $(obj).offset().top;
        this.yOffsets.push(Math.floor(pageOffsets));
    });
}

/**
 * @public
 * @memberof module:Scroll#
 * @method compareOffsets
 */
Scroll.prototype.compareOffsets = function () {
    if (this.direction === 'down') {
        if (currLoc > this.yOffsets[this.lastOffset]) {
            this.lastOffset += 1;
            if (this.lastOffset >= this.yOffsets.length) {
                this.lastOffset = this.yOffsets.length - 1;
            }
        }
    } else {
        // up
        if (this.currLoc &lt; this.yOffsets[this.lastOffset]) {
            this.lastOffset -= 1;
            if (this.lastOffset &lt; 0) {
                this.lastOffset = 0;
            }
        }
    }
}

/**
 * @public
 * @memberof module:Scroll#
 * @method bindEvents
 */
Scroll.prototype.bindEvents = function () {
    $(window).on('scroll', function () {
        if ($(this).scrollTop() >= this.currLoc) {
            this.direction = 'down';
        } else {
            this.direction = 'up';
        }
        this.currLoc = $(this).scrollTop();
        this.compareOffsets();
        var correctedIndex = this.lastOffset + 1;
        $('ul#sidebarID li').removeClass(this.hovered);
        $('ul li:nth-child(' + correctedIndex + ')').addClass(this.hovered);
    });

    $(".menu-icon").on("click", function () {
        $("body").addClass("move-left");
        $(".right-off-canvas-menu").addClass("move-left");
    });

    $(".exit-off-canvas").on("click", function () {
        $("body").removeClass("move-left");
        $(".right-off-canvas-menu").removeClass("move-left");
    });
}

/**
 * @public
 * @memberof module:Scroll#
 * @method init
 */
Scroll.prototype.init = function () {
    if (!(this instanceof Scroll)) {
        return new Scroll();
    }
    this.getOffsets();
    this.bindEvents();
}

/** @module Scroll */
module.exports = Scroll;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-Scroll.html">module:Scroll</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Mon Jun 23 2014 18:53:37 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
